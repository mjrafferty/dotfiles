#! /bin/bash

## Print the hostname if it resolves, otherwise print the main IP
if [[ -n $(dig +time=1 +tries=1 +short $(hostname)) ]]; then 
				hostname;
else 
				ip addr show | awk '/inet / {print $2}' | cut -d/ -f1 | grep -Ev '^127\.' | head -1; 
fi
