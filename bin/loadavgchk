#! /bin/bash

main () {

  avgs=($(cut -d ' ' -f1-3 /proc/loadavg));

  avgs[0]=$(printf "%.*f\n" 0 "${avgs[0]}")
  avgs[1]=$(printf "%.*f\n" 0 "${avgs[1]}")
  avgs[2]=$(printf "%.*f\n" 0 "${avgs[2]}")


  cpucount="$(grep -c ^processor /proc/cpuinfo)"

  if [ "${avgs[0]}" -ge "$cpucount" ]; then
    echo "Load average high";
  fi
  if [ "${avgs[1]}" -ge "$cpucount" ]; then
    echo "5 min load average high";
  fi
  if [ "${avgs[2]}" -ge "$cpucount" ]; then
    echo "15 min load average high";
  fi

}

main;
